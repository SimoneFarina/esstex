% Author:   Jeong Han Lee
% email :   jeonghan.lee@gmail.com
% Date:     Tuesday, July 12 16:31:28 CEST 2016
%
% History:
% 0.1       Tuesday, July 12 16:31:36 CEST 2016,


\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{essdocs}[2016/07/12 v0.1 Jeong Han Lee]

\RequirePackage{geometry}
\RequirePackage{verbatim}
\RequirePackage{graphicx}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{appendix}
\RequirePackage{xcolor}
\RequirePackage{setspace}
\RequirePackage{hyperref}
\RequirePackage{pstricks}
\RequirePackage{pifont}
\RequirePackage{wasysym}
\RequirePackage{booktabs}
\RequirePackage{multirow}
\RequirePackage{array}
\RequirePackage{makeidx}
\RequirePackage{shortvrb}
\RequirePackage{latexsym}
\RequirePackage{fixltx2e}
\RequirePackage{textcomp}
%\RequirePackage{microtype}
%\RequirePackage{tabu}
\RequirePackage{longtable}
\RequirePackage{booktabs}
\RequirePackage{verbatim}
\RequirePackage{framed}
\RequirePackage{ifpdf}
\RequirePackage{alltt}
\RequirePackage{listings}
\RequirePackage{kotex}
\RequirePackage{url}
\usepackage{multicol}
%\usepackage[utf]{kotex}

%\RequirePackage{datetime}
%\RequirePackage{fmtcount}
% geometry setup for a binding offset


%% Only for Draft 
%% Fedora - nrich cannot handle this  option
%% 
%% Thursday, July 11 19:51:21 KST 2013, jhlee
%% \RequirePackage{draftwatermark}
%% \SetWatermarkScale{5.0}
%% \SetWatermarkLightness{0.92}


\geometry{a4paper}
\geometry{centering}
\geometry{bindingoffset=0mm}
\geometry{hmarginratio=1:1}
\special{papersize=210mm,297mm}

%\geometry{letter}
%\special{papersize=215.9mm,279.4mm}

% microtypesetup option
% http://mirrors.ibiblio.org/CTAN/macros/latex/contrib/microtype/microtype.pdf
%\microtypesetup{draft=false, final}



% includegraphics default image width option
\setkeys{Gin}{width=0.99\textwidth} 


% more space between rows in table 1.2 or 1.3 is recommended
\makeatletter
\renewcommand{\arraystretch}{1.1}
\makeatother

% Change Figure, Table, Listing as bold...
\makeatletter
\renewcommand\fnum@figure[1]{\textbf{\figurename~\thefigure~}}
\renewcommand\fnum@table[1]{\textbf{\tablename~\thetable~} }
\renewcommand\fnum@lstlisting[1]{\textbf{\lstlistingname~\thelstlisting~} } % page.34 in the Listings Package
\makeatother

%% http://tex.stackexchange.com/questions/33841/how-to-modify-the-indentation-before-sectioning-titles-in-the-table-of-contents
\makeatletter
     \renewcommand*\l@figure{\@dottedtocline{1}{1em}{3.2em}}
     \renewcommand*\l@table{\@dottedtocline{1}{1em}{3.2em}}
     \renewcommand*\l@lstlisting{\@dottedtocline{1}{1em}{3.2em}}
\makeatother


\makeatletter    
\pagestyle{myheadings}
\makeheadrule{myheadings}{\textwidth}{\normalrulethickness}
\renewcommand{\chaptermark}[1]% 
             {\markboth{\thechapter. \ #1}{} }
%% \renewcommand{\sectionmark}[1]% 
%%              {\markright{ \thesection. \ #1}{} }
%% \newcommand \headerfont  {\fontsize{10pt}{10pt} \fontfamily{ppl} \selectfont}
%% \newcommand \thepagefont {\fontsize{10pt}{10pt} \bfseries }
\makeatother   


%% \makeatletter
%% \renewcommand*{\maketitle}{%
%%   \begin{titlepage}
%%     \thispagestyle{empty}
%%   \null
%%   \begin{minipage}{0.2\textwidth}
%%     \begin{flushleft}
%%     \includegraphics[width=4cm,angle=0]{./figs/ESS_Logo_Frugal_Blue_cmyk.eps}
%%     \end{flushleft}
%%   \end{minipage}
%%   \begin{minipage}{0.4\textwidth}
%%     {\tiny
%%       \begin{flushright}
%%         \begin{tabular}{ l l }
%%           Description &  \\
%%           Document number & \\
%%           Date & \\
%%           Revision & \\
%%           State & \\
%%           Classification & \\
%%           Page & \\
%%         \end{tabular}
%%       \end{flushright}
%%       }
%%   \end{minipage}
%%   \vskip 4em%
%%   \begin{center}%
%%     \let \footnote \thanks
%%     \rule[0.5ex]{\linewidth}{2pt}\vspace*{-\baselineskip}\vspace*{3.2pt}
%%     \rule[0.5ex]{\linewidth}{1pt}\\[\baselineskip]
%%          {\LARGE \@title \par}\\[4mm]
%%      \rule[0.5ex]{\linewidth}{1pt}\vspace*{-\baselineskip}\vspace{3.2pt}
%%      \rule[0.5ex]{\linewidth}{2pt}\\
%%          \vskip 1.5em%
%%     {\large
%%       \lineskip .5em%
%%       \begin{tabular}[t]{c}%
%%         \@author
%%       \end{tabular}\par}%
%%     \vskip 1em%
%%     %{\large \@date}%
%%   \end{center}%
%%   \par
%%   \vskip 1.5em
  
%% %% {\raggedleft%
%% %% 	\includegraphics[width=3cm]{example-image-16x9}\par
%% %% }\vspace{1cm}
%% %% 	\centering
%% %% {\scshape\LARGE Columbidae University \par}
%% %% \vspace{1cm}
%% %% {\scshape\Large\@project\unskip\strut\par}
%% %% \vspace{1.5cm}
%% %% {\huge\bfseries\@title\unskip\strut\par}
%% %% \vspace{2cm}
%% %% {\Large\itshape\@author\unskip\strut\par}
%% %% \vfill
%% %% supervised by\par
%% %% \@supervisor\unskip\strut\par

%% %% \vfill

%% %% {\large \@date\par}
%% \end{titlepage}

\makeatletter
\renewcommand\maketitle{%
  \thispagestyle{empty}
  \null
  \begin{minipage}{0.2\textwidth}
    \begin{flushleft}
      \includegraphics[width=4cm,angle=0]{./figs/ESS_Logo_Frugal_Blue_cmyk.eps}
    \end{flushleft}
  \end{minipage}
  \begin{minipage}{0.4\textwidth}
    {\tiny
      \begin{flushright}
        \begin{tabular}{ l l }
          Description &  \\
          Document number & \\
          Date & \\
          Revision & \\
          State & \\
          Classification & \\
          Page & \\
        \end{tabular}
      \end{flushright}
      }
  \end{minipage}
  \vskip 4em%
  \begin{center}
  \rule[0.5ex]{\linewidth}{2pt}\vspace*{-\baselineskip}\vspace*{3.2pt}
  \rule[0.5ex]{\linewidth}{1pt}\\[\baselineskip]
       {\LARGE \@title \par}\\[4mm]
       \rule[0.5ex]{\linewidth}{1pt}\vspace*{-\baselineskip}\vspace{3.2pt}
       \rule[0.5ex]{\linewidth}{2pt}\\
       \vskip 1.5em%
              {\large
                \lineskip .5em%
                \begin{tabular}[t]{c}%
                  \@author
                \end{tabular}\par}%
              \vskip 1em%
  \end{center}
  \newpage
}
\makeatother

\makeatletter 
 \def\addlinecenter#1{%
   \hbox to \hsize{%
     \vbox{\centering #1}}}%
\makeatother


\hypersetup{
  , pdfstartview = {Fit}
  , pdfpagemode= {UseOutlines}
%  , pdftitle    = {\inserttitle}
%  , pdfauthor   = {\insertauthor}
%  , pdfcreator  = {\insertauthor}
%  , pdfproducer = {\insertauthor}
  , bookmarksnumbered = {true}
  , bookmarksopen = {false}
  , baseurl = {https://github.com/jeonghanlee/esstex}
  , colorlinks = {true}
  , linkcolor  = {red}          % color of internal links
  , citecolor  = {green}
  , filecolor  = {magenta}
  , urlcolor   = {cyan}
%  , unicode    = {true}
  %  , bookmarks  = {true}
  %  , linkbordercolor = {1 0 0}
  %  pdfstartview = {FitH}
}


\hypersetup{breaklinks}
% Declare figure/table as a subfloat.
\newsubfloat{figure} % Subfigures
\newsubfloat{table} % Subtables


% Font with math support: New Century Schoolbook
\usepackage{fouriernc}
\usepackage[T1]{fontenc}
